process L1SKIM = {
        source = PoolSource {
                  untracked vstring fileNames = {
'/store/mc/2007/5/7/Spring07-MuEnrichType1-1530/0005/0A573997-4DFD-DB11-A9C4-00163E0A70C3.root',
}
		  untracked int32 skipEvents = 1
		  untracked int32 maxEvents = 10000
		  }
	service = MessageLogger {
    	          untracked vstring destinations = { "LumiInfo.log" }
                  untracked vstring categories     = { "MuEnrichRenormalizer" }
                  untracked PSet LumiInfo.log = {untracked string threshold = "INFO"
						 untracked PSet default = { untracked int32 limit = 0 }
    			           		 untracked PSet MuEnrichRenormalizer  = { untracked int32 limit = 100000 }
                                                }  
        }
        module osFilter = OnlineSelectionFilter {
          InputTag gtReadoutSource = l1extraParticleMapSkim
        }

        module Analysis = MuEnrichRenormalizer {
		int32 type=1	
	}
        module Filter = MuEnrichType1Filter {
	        int 32 type=1
	}
 
include "Configuration/StandardSequences/data/FakeConditions.cff"
include "HLTrigger/Configuration/data/common/HLTSetupCase4.cff"
include "L1Trigger/L1ExtraFromDigis/data/l1extraSkim.cff"
        path p1 = {Analysis,Filter}	        
        path p2 = {Analysis,Filter, l1emulator, l1extra, osFilter}	        

	  module l1tOutput = PoolOutputModule {
	    untracked vstring outputCommands = {
	      "drop *",
	      "keep edmHepMCProduct_*_*_*",
	      "keep L1*_*_*_*",
	      "keep EcalTrigger*_*_*_*",
	      "keep HcalTrigger*_*_*_*",
	      "keep *_l1extraParticleMap_*_*",
	      "keep *_l1extraParticles_*_*"
    	    }
	    untracked string fileName = "MuEnrich1L1T.root"
            untracked PSet SelectEvents = { vstring SelectEvents = { "p1" } }
	  }

	  module hltOutput = PoolOutputModule {
	    untracked vstring outputCommands = {
 	     "drop *",
      	     "keep edmHepMCProduct_*_*_*",
             "keep *_*Digis_*_*"
     }
    untracked string fileName = "MuEnrich1HLT.root"
    untracked PSet SelectEvents = { vstring SelectEvents = { "p2" } }
  }

  endpath l1t = {l1tOutput}
  endpath hlt = {hltOutput}
}		  
