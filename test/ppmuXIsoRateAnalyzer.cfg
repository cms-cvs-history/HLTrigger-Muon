process PRODHLT  = {

#----------------- Input file -----------------------------------------
  source = PoolSource{
    untracked vstring fileNames ={ 
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/007DD08A-CAB6-DB11-AEA0-001143D49026.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/00ADD705-78B6-DB11-96E2-001143D48A49.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/00FE4D03-28B5-DB11-B2A0-0030485617EC.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/021FA759-7CB6-DB11-B6ED-001143D48B0B.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/029B00E7-0BB5-DB11-A23C-0030485627E2.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/029BF133-32B5-DB11-99B0-00304885B038.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/0401D89D-0BB5-DB11-B962-00304856299C.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/04063D43-73B6-DB11-B66E-001143D49CA4.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/0454E608-63B9-DB11-97A6-003048562938.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/04F11CAB-6DB6-DB11-AF88-001143D48BC8.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/061391CC-77B6-DB11-BCF6-001143D48B08.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/0678BEF8-37B5-DB11-AAB5-000E0C3F08CC.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/0679D06F-D9B6-DB11-A9BE-001143D47E3F.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/068F7056-79B6-DB11-9C4A-001143D48A10.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/06A25DF4-09B5-DB11-80AB-0002B3D8EAF0.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/06D8A57B-FEBA-DB11-878F-000E0C3F0956.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/06E6C462-0EB5-DB11-B6BC-001143D48930.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/0836029A-0BB5-DB11-9F41-00304885AA1A.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/085BFAC4-13B5-DB11-9A86-003048562A6E.root',
      'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/08EF9D45-6EB6-DB11-BF25-001143D49026.root'
    }
    untracked int32 maxEvents = -1
    #untracked int32 maxEvents = 100
  }

#------------ HLT Muon Path -------------------------------------------
  include "HLTrigger/Muon/data/PathSingleMu_1032_Iso.cff"
  path l1skimmedRec = { singleMuIso }

#-- Lower all Pt thresholds down to at least the PtMin in the game ----
  # This must be set carefully:
  #   0) Locate all filters used in the path under study
  #      (for muons, the relevant files are "HLTrigger/Muon/data/Path....cff")
  #   1) For the L1 bits used in the HLTLevel1Seed filter set the thresholds 
  #      to the PtMin of the exercise (or lower if desired),
  #      as well as the appropriate prescale factors
  replace l1extraParticleMap.A_SingleMu7_thresh = 0.
  replace l1extraParticleMap.A_SingleMu7_prescale = 1
  #   2) Set Pt thresholds to at least PtMin for all relevant HLT filters
  #      (isolation filters do not have PT thresholds, so they do not count)
  replace SingleMuIsoL1Filtered.MinPt = 0.
  replace SingleMuIsoL2PreFiltered.MinPt = 0.
  replace SingleMuIsoL3PreFiltered.MinPt = 0.

#------------ Efficiency/Rate Analyzer --------------------------------
  module ppmuXIsoRateAnalyzer = HLTMuonRateAnalyzer {
      # Generator source
      untracked InputTag GenLabel = VtxSmeared # use "source" in the future

      # L1 collection input tag 
      untracked InputTag L1CollectionLabel = SingleMuIsoL1Filtered

      # HLT collection input tags
      untracked VInputTag HLTCollectionLabels = {   
            SingleMuIsoL2PreFiltered, SingleMuIsoL2IsoFiltered
          , SingleMuIsoL3PreFiltered, SingleMuIsoL3IsoFiltered
      }  

      # Force HLT to satisfy the following L1 Pt threshold
      untracked double L1ReferenceThreshold = 7.

      # Shift to go to 90% efficiency pt values (in number of sigmas for 1/pt) 
      # ORCA values: 3.9 sigmas for L2; 2.2 sigmas for L3
      untracked vdouble NSigmas90 = { 3.9, 3.9, 2.2, 2.2 }

      # Number of objects passing thresholds (=2 for dimuon paths, for instance)
      untracked uint32 NumberOfObjects = 1

      # CrossSection (in nb) = generator cross section * filter efficiency
      untracked double CrossSection = 80.e6

      # Luminosity (in 1/cm**2/s units)
      untracked double Luminosity = 1.e32

      # Parameters defining histogram limits and number of bins
      untracked double PtMin = 0.0
      untracked double PtMax = 40.0
      untracked uint32 Nbins = 80

      # Output Root file for histograms
      untracked string RootFileName = "ppmuXIsoRateAnalyzer.root"
  }

#------------ Message Logger ------------------------------------------
   service = MessageLogger {
    untracked vstring destinations = { "cout" }
    #untracked PSet cout = { untracked string threshold = "INFO" } 
    untracked PSet cout = { untracked string threshold = "ERROR" } 
    untracked vstring debugModules =  {  "ppmuXIsoRateAnalyzer" }
   }

#------------ End path ------------------------------------------------
  endpath analyzerpath = { ppmuXIsoRateAnalyzer }

}
