process PRODHLT  = {

#----------------- Input file -----------------------------------------
  untracked PSet maxEvents = {untracked int32 input = 10}
  source = PoolSource{
    untracked vstring fileNames ={ '/store/mc/2007/11/10/RelVal-RelValZMM-1194698597/0000/2024B073-1590-DC11-9417-000423D95244.root' }
    untracked int32 maxEvents = -1
  }

#------------ HLT Muon Path -------------------------------------------
  include "Configuration/StandardSequences/data/FakeConditions.cff"
  include "HLTrigger/Configuration/data/common/HLTSetupCase4.cff"
  include "HLTrigger/Muon/data/PathSingleMu_1032_NoIso.cff"
  path pSMIso = { singleMuNoIso }

#-- Lower all Pt thresholds down to at least the PtMin in the game ----
  # This must be set carefully:
  #   0) Locate all filters used in the path under study
  #      (for muons, the relevant files are "HLTrigger/Muon/data/Path....cff")
  #   1) For the L1 bits used in the HLTLevel1Seed filter set the thresholds 
  #      to the PtMin of the exercise (or lower if desired),
  #      as well as the appropriate prescale factors
 #  replace l1extraParticleMap.L1_SingleMu7_thresh = 0.
 # replace l1extraParticleMap.L1_SingleMu7_prescale = 1
  #   2) Set Pt thresholds to at least PtMin for all relevant HLT filters
  #      (isolation filters do not have PT thresholds, so they do not count)
  replace SingleMuNoIsoL1Filtered.MinPt = 0.
  replace SingleMuNoIsoL2PreFiltered.MinPt = 0.
  replace SingleMuNoIsoL3PreFiltered.MinPt = 0.

#------------ Turn On Curves Analyzer --------------------------------
  module SingleMuonNoIsoTurnOnAnalyzer = HLTMuonTurnOnAnalyzer {
      # Generator source
      untracked InputTag GenLabel = VtxSmeared # use "source" in the future

      # Use generted pt for the X axis (if true)
      # or reconstructed pt from last HLT collection (if false)
      untracked bool UseMuonFromGenerator = false

      # L1 collection input tag 
      untracked InputTag L1CollectionLabel = SingleMuNoIsoL1Filtered

      # HLT collection input tags
      untracked VInputTag HLTCollectionLabels = {   
            SingleMuNoIsoL2PreFiltered
          , SingleMuNoIsoL3PreFiltered
      }  

      # Force HLT to satisfy the following L1 Pt threshold
      untracked double ReferenceThreshold = 7.

      # Parameters defining histogram limits and number of bins
      untracked double PtMin = 0.0
      untracked double PtMax = 40.0
      untracked uint32 Nbins = 80

      # Output Root file for histograms
      untracked string RootFileName = "SingleMuonNoIsoTurnOnAnalyzer.root"
  }

#------------ Message Logger ------------------------------------------
   service = MessageLogger {
    untracked vstring destinations = { "cout" }
    #untracked PSet cout = { untracked string threshold = "INFO" } 
    untracked PSet cout = { untracked string threshold = "ERROR" } 
    untracked vstring debugModules =  {  "SingleMuonNoIsoTurnOnAnalyzer" }
   }

#------------ End path ------------------------------------------------
  endpath analyzerpath = { SingleMuonNoIsoTurnOnAnalyzer }

}
