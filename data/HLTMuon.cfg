process PRODHLT  = {

#----------------- input file --------------------------	
  source = PoolSource{
    untracked vstring fileNames ={ 'rfio:/castor/cern.ch/cms/store/unmerged/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/DIGI-RECO/0001/02898ECE-CABA-DB11-8F54-003048561110.root' }
    #untracked vstring fileNames ={ 'file:hlt_data/Hto4mu_50.root' }
    #untracked vstring fileNames ={ 'rfio:/castor/cern.ch/user/j/jalcaraz/crab/Hto4mu_50.root' }
    untracked int32 maxEvents = 10
  }
#------------ Utilities ---------------------------------
## Timing
  service = Timing { }

## Usual Message Logger 
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

#------------ HLT Muon Paths -------------------------------------
  include "HLTrigger/Muon/data/PathSingleMu_2x1033_Iso.cff"
  path pSMIso = { singleMuIso }

  include "HLTrigger/Muon/data/PathSingleMu_2x1033_NoIso.cff"
  path pSMNoIso = { singleMuNoIso }

  include "HLTrigger/Muon/data/PathDiMuon_2x1033_Iso.cff"
  path pDMIso = { diMuonIso }

  include "HLTrigger/Muon/data/PathDiMuon_2x1033_NoIso.cff"
  path pDMNoIso = { diMuonNoIso }

#----------------- output file -------------------------
  module OUTPUT = PoolOutputModule {
    untracked string fileName ="/tmp/Muons.root" 

    untracked PSet SelectEvents = {
      vstring SelectEvents = { "pSMIso","pDMIso", "pSMNoIso", "pDMNoIso" }
    }

    untracked vstring outputCommands = {
      # Starting point: drop everything
            "drop *",
      # Keep all objects created by this process
            "keep *_*_*_PRODHLT"
    }
  }

  # Recover original digis if necessary
  #include "Configuration/EventContent/data/EventContent.cff"
  #replace OUTPUT.outputCommands += SimG4CoreFEVT.outputCommands  
  #replace OUTPUT.outputCommands += SimTrackerFEVT.outputCommands
  #replace OUTPUT.outputCommands += SimMuonFEVT.outputCommands
  #replace OUTPUT.outputCommands += SimCalorimetryFEVT.outputCommands
  #replace OUTPUT.outputCommands += RecoGenJetsFEVT.outputCommands 

#----------------- Summary + end ---------------------------------
  module hltoutput = HLTMakeSummaryObjects { }
  untracked PSet options = {
               untracked bool wantSummary = true  # default is false
               untracked bool makeTriggerResults = true
               vstring listOfTriggers = {"*"}
  } 

  endpath outpath = { OUTPUT, hltoutput }

}
