process PRODL1  = {

#----------------- input file --------------------------	
  source = PoolSource{
    untracked vstring fileNames ={ 'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/007DD08A-CAB6-DB11-AEA0-001143D49026.root' }
    #untracked vstring fileNames ={ 'file:hlt_data/Hto4mu_50.root' }
    #untracked vstring fileNames ={ 'rfio:/castor/cern.ch/user/j/jalcaraz/crab/Hto4mu_50.root' }
    untracked int32 maxEvents = 10
  }
#------------ Utilities ---------------------------------
## Minimal Message logger
  service = MessageLogger {
      untracked vstring destinations = { "cout" }
      untracked PSet cout = { untracked string threshold = "ERROR" }
  }

#------------ L1 Muon Filter -------------------------------------
  include "HLTrigger/Muon/data/CommonModules_2x1033.cff"

  module MuLevel1Seed = hltLevel1GTSeed from "HLTrigger/HLTfilters/data/hltLevel1GTSeed.cfi"
  replace MuLevel1Seed.L1SeedsLogicalExpression = "L1_SingleMu3 OR L1_SingleMu5 OR L1_SingleMu7 OR L1_SingleMu10 OR L1_SingleMu14 OR L1_SingleMu20 OR 1_SingleMu25 OR L1_DoubleMu3 OR L1_TripleMu3"

  module L1MuL1Filtered = HLTMuonL1Filter {
      InputTag CandTag = L1MuLevel1Seed

      double MaxEta = 2.5
      double MinPt = 0.
      int32 MinQuality = -1
      int32 MinN = 1
  }

  path pl1sel = { l1muonreco & L1MuLevel1Seed & L1MuL1Filtered }

#----------------- output file -------------------------
  module OUTPUT = PoolOutputModule {
    untracked string fileName ="L1Muons.root" 

    untracked PSet SelectEvents = {
      vstring SelectEvents = { "pl1sel" }
    }

    untracked vstring outputCommands = {
      # Starting point: drop everything
            "drop *",
      # Keep all objects created by this process
            "keep *_*_*_PRODL1"
    }
  }

  # Recover original digis if necessary
  include "Configuration/EventContent/data/EventContent.cff"
  replace OUTPUT.outputCommands += SimG4CoreFEVT.outputCommands  
  replace OUTPUT.outputCommands += SimTrackerFEVT.outputCommands
  replace OUTPUT.outputCommands += SimMuonFEVT.outputCommands
  replace OUTPUT.outputCommands += SimCalorimetryFEVT.outputCommands
  #replace OUTPUT.outputCommands += RecoGenJetsFEVT.outputCommands 

#----------------- Summary + end ---------------------------------
  #module hltoutput = HLTMakeSummaryObjects { }
  #untracked PSet options = {
  #             untracked bool wantSummary = true  # default is false
  #             untracked bool makeTriggerResults = true
  #             vstring listOfTriggers = {"*"}
  #} 
  #endpath outpath = { OUTPUT, hltoutput }

  endpath outpath = { OUTPUT }

}
