process PRODL1  = {

#----------------- input file --------------------------	
  source = PoolSource{
    untracked vstring fileNames ={ 'rfio:/castor/cern.ch/cms/store/mc/2007/2/4/mc-onsel-120_PU_pp_muX-DIGI-RECO-NoPU/0002/007DD08A-CAB6-DB11-AEA0-001143D49026.root' }
    #untracked vstring fileNames ={ 'file:hlt_data/Hto4mu_50.root' }
    #untracked vstring fileNames ={ 'rfio:/castor/cern.ch/user/j/jalcaraz/crab/Hto4mu_50.root' }
    untracked int32 maxEvents = 10
  }
#------------ Utilities ---------------------------------
## Minimal Message logger
  service = MessageLogger {
      untracked vstring destinations = { "cout" }
      untracked PSet cout = { untracked string threshold = "ERROR" }
  }

#------------ L1 Muon Filter -------------------------------------
  include "HLTrigger/Muon/data/CommonModules_2x1033.cfi"

  module MuLevel1Seed = HLTLevel1Seed {
            // Only pure muon trigger bits are quoted in this example
            vstring L1Seeds = {
                                    "A_SingleMu3",
                                    "A_SingleMu5",
                                    "A_SingleMu7",
                                    "A_SingleMu10",
                                    "A_SingleMu14",
                                    "A_SingleMu20",
                                    "A_SingleMu25",
                                    "A_DoubleMu3",
                                    "A_TripleMu3"
                              }
            bool andOr      = true
            bool byName     = true
            InputTag L1ExtraCollections = l1extraParticles
            InputTag L1ExtraParticleMap = l1extraParticleMap
            InputTag L1GTReadoutRecord = l1extraParticleMap
  }

  module L1MuL1Filtered = HLTMuonL1Filter {
      InputTag CandTag = L1MuLevel1Seed

      double MaxEta = 2.5
      double MinPt = 0.
      int32 MinQuality = -1
      int32 MinN = 1
  }

  path pl1sel = { l1muonreco & L1MuLevel1Seed & L1MuL1Filtered }

#----------------- output file -------------------------
  module OUTPUT = PoolOutputModule {
    untracked string fileName ="L1Muons.root" 

    untracked PSet SelectEvents = {
      vstring SelectEvents = { "pl1sel" }
    }

    untracked vstring outputCommands = {
      # Starting point: drop everything
            "drop *",
      # Keep all objects created by this process
            "keep *_*_*_PRODL1"
    }
  }

  # Recover original digis if necessary
  include "Configuration/EventContent/data/EventContent.cff"
  replace OUTPUT.outputCommands += SimG4CoreFEVT.outputCommands  
  replace OUTPUT.outputCommands += SimTrackerFEVT.outputCommands
  replace OUTPUT.outputCommands += SimMuonFEVT.outputCommands
  replace OUTPUT.outputCommands += SimCalorimetryFEVT.outputCommands
  #replace OUTPUT.outputCommands += RecoGenJetsFEVT.outputCommands 

#----------------- Summary + end ---------------------------------
  #module hltoutput = HLTMakeSummaryObjects { }
  #untracked PSet options = {
  #             untracked bool wantSummary = true  # default is false
  #             untracked bool makeTriggerResults = true
  #             vstring listOfTriggers = {"*"}
  #} 
  #endpath outpath = { OUTPUT, hltoutput }

  endpath outpath = { OUTPUT }

}
